
@{
    ViewBag.Title = "UpdateForm";
}
@section Styles{
    <link href="~/Scripts/highlight/css/default.css" rel="stylesheet" />
    @*<link href="~/DataTables/datatables.min.css" rel="stylesheet" />*@

}
@Html.Hidden("urlFormsDropDown", @Url.Action("GetFormsByCategoryForDropdown", "Document"))
<link href="~/DataTables/datatables.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-3.5.1.min.js"></script>
<script src="~/DataTables/datatables.min.js"></script>
<script src="~/Scripts/notify.min.js"></script>
<div class="row">
    <div class="col-sm-3 col-xs-12">
        <h2 class="ta">Update Form</h2>
    </div>
    <div class="col-sm-9 col-xs-12">
        <div class="row">
            <div class="col-sm-12 col-xs-12">
                <div class="card marginTP10">
                    <div class="col-sm-12 col-xs-12">
                        <div class="">
                            <div class="col-sm-12 col-xs-12">
                                <div class="form-group">
                                    <label>Category</label>
                                    @Html.DropDownList("formsCategoryList", (IEnumerable<SelectListItem>)ViewBag.FormsCategory, new { @id = "ddlCategory", @class = "form-control", onchange = "LoadFormsByCategoryForDropdown(this.value)" })

                                </div>
                            </div>
                            <div class="col-sm-12 col-xs-12">
                                <div class="form-group">
                                    <label for="Form">Forms</label>
                                    <select id="ddlForms" name="Forms" class="form-control" disabled onchange="EnableFileControl(this.value)"></select>
                                </div>
                            </div>
                            <div class="col-sm-12 col-xs-12">
                                <div class="form-group">
                                    <input type="file" id="fileUpload" />
                                </div>
                            </div>
                            <div class="col-sm-12 col-xs-12">
                                <div class="form-group">
                                    <label for="Version">Version</label>
                                    <input class="form-control" type="text" id="txtVersion" />
                                </div>
                            </div>
                            <div class="col-sm-12 col-xs-12">
                                <div class="form-group">
                                    <label for="ModifiedSection">Modified Section</label>
                                    <textarea class="form-control" id="ModifiedSection" name="ModifiedSection" rows="4" cols="50"></textarea>
                                </div>
                            </div>
                            <div class="col-sm-12 col-xs-12">
                                <div class="form-group">
                                    <input type="button" id="btnUpdate" value="Upload" class="btn btn-info btn-sm" style="background-color: #e90000;" onclick="UploadAndUpdateForm()" />
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>

@section Scripts{
    @*<script src="~/Scripts/jquery-3.5.1.min.js"></script>
        <script src="~/DataTables/datatables.min.js"></script>*@
    <script src="~/js/Upload/UploadDocument.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(':input[type="file"]').prop('disabled', true);
        });
        $('#ddlCategory').on('change', function () {
            var catId = this.value;
            if (catId <= 0) {

                $('#ddlForms').prop('disabled', true);
                $("#fileUpload").prop('disabled', true);
            }
            else {
                $('#ddlForms').prop('disabled', false);
            }
        });
        
    </script>

}


